<div class="task_cont" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'" [ngStyle]="{
    'background-color': errorUpdate ? '#D3AFAFFF' : '',
    'animation-delay' : '0.' + index + 's'
}">
    <div style="margin: auto 0px; font-size: 26px; font-weight: bold;">
        {{index + 1}}
    </div>
    <div style="width: 2px; height: 100%; background-color: rgb(204, 204, 204);"></div>

    @if (!editMode) {
        <div style="display: flex; flex-direction: column; gap: 5px; width: 100%;">

            <h4 style="margin-bottom: 10px; color: #335577; margin: 0;  max-height: 70px; overflow: auto;"> 
                {{tarefa.titulo}} 
            </h4>
            
            <div style="width: 100%; height: 1px; background-color: rgb(204, 204, 204);"></div>

            <p style="color: #555; margin: 0; max-height: 130px; overflow: auto;">
                {{tarefa.descricao}}
            </p>
        </div>

        <div style="width: 2px; height: 100%; background-color: rgb(204, 204, 204);"></div>

        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 20px;">
            <button (click)="enterEditMode()">
                <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#3A3A3AFF" style="min-width: 20px;">
                    <path d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"/>
                </svg>
            </button>

            <button>
                <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#3A3A3AFF" style="min-width: 20px;" (click)="deletarTrf()">
                    <path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/>
                </svg>
            </button>
        </div>
    }  
    
    
    
    @if (editMode) {
        <form style="display: flex; flex-direction: column; gap: 5px; width: 100%;">

            <textarea name="titulo" placeholder="Titulo" [(ngModel)]="titulo" id="titulo" rows="1" style="margin-bottom: 10px; color: #2c3e50; margin: 0; overflow: hidden; padding: 10px; padding-top: 5px;"></textarea>

            <div style="width: 100%; height: 1px; background-color: rgb(204, 204, 204);"></div>
            <textarea name="desc" [(ngModel)]="desc"  id="desc" rows="5" placeholder="Descrição"></textarea>
        </form>

        <div style="width: 2px; height: 100%; background-color: rgb(204, 204, 204);"></div>

        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 20px;">
             <button (click)="enterEditMode()">
                <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#3A3A3AFF" style="min-width: 20px;">
                    <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
                </svg>
            </button>

            <button (click)="save()">
                <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#3A3A3AFF" style="min-width: 20px;">
                    <path d="M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"/>
                </svg>
            </button>
        </div>
    }


</div>
